import{_ as y,V as S}from"./Logo.7c7928e4.js";import{G as C,aR as F,aS as R,r as k,u as B,b as e,aT as I,a9 as U,o as b,W as q,w as t,aU as _,ax as h,V as N,aV as P,d as f,aa as T,c as j,a as V}from"./index.7f72ea53.js";import{A}from"./AuthService.67b9e73c.js";import{_ as D}from"./plugin-vue_export-helper.21dcd24c.js";import{a as m,V as g,c as L,b as z}from"./VRow.3c4db4e1.js";/* empty css              */const E=C({name:"VForm",props:{...F()},emits:{"update:modelValue":s=>!0,submit:s=>!0},setup(s,o){let{slots:u,emit:c}=o;const a=R(s),l=k();function r(n){n.preventDefault(),a.reset()}function v(n){const i=n,d=a.validate();i.then=d.then.bind(d),i.catch=d.catch.bind(d),i.finally=d.finally.bind(d),c("submit",i),i.defaultPrevented||d.then(x=>{let{valid:w}=x;if(w){var p;(p=l.value)==null||p.submit()}}),i.preventDefault()}return B(()=>{var n;return e("form",{ref:l,class:"v-form",novalidate:!0,onReset:r,onSubmit:v},[(n=u.default)==null?void 0:n.call(u,a)])}),I(a,l)}}),G={data(s){return{form:!1,loading:!1,timeout:null,username:"",password:""}},computed:{loggedIn(){return localStorage.getItem("user")}},created(){this.loggedIn&&this.$router.push("/dashboard")},methods:{required(s){return!!s||"Field is required"},submit(){this.loading=!0,A.login({username:this.username,password:this.password}).then(s=>{this.loading=!1,U.push("/dashboard")}).catch(s=>{console.log(s),this.loading=!1})}}},H=f("Username"),M=f("Password"),W=f("Sign in");function J(s,o,u,c,a,l){return b(),q(E,{modelValue:a.form,"onUpdate:modelValue":o[2]||(o[2]=r=>a.form=r),"fast-fail":"",onSubmit:P(l.submit,["prevent"])},{default:t(()=>[e(g,{class:"d-flex mb-3"},{default:t(()=>[e(m,{cols:"12"},{default:t(()=>[e(_,{class:"font-weight-bold mb-1"},{default:t(()=>[H]),_:1}),e(h,{variant:"outlined",modelValue:a.username,"onUpdate:modelValue":o[0]||(o[0]=r=>a.username=r),rules:[l.required],"hide-details":"",clearable:"",color:"primary"},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:t(()=>[e(_,{class:"font-weight-bold mb-1"},{default:t(()=>[M]),_:1}),e(h,{variant:"outlined",modelValue:a.password,"onUpdate:modelValue":o[1]||(o[1]=r=>a.password=r),type:"password",rules:[l.required],"hide-details":"",clearable:"",color:"primary"},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:t(()=>[e(N,{loading:a.loading,disabled:!a.form,type:"submit",color:"primary",size:"large",block:"",flat:""},{default:t(()=>[W]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])}var K=D(G,[["render",J]]);const O={class:"authentication"},Q={class:"d-flex justify-center py-4"},X=V("div",{class:"text-body-1 text-muted text-center mb-3"},"Sistem Informasi Standar Harga",-1),se=T({setup(s){return(o,u)=>(b(),j("div",O,[e(S,{fluid:"",class:"pa-3"},{default:t(()=>[e(g,{class:"h-100vh d-flex justify-center align-center"},{default:t(()=>[e(m,{cols:"12",lg:"4",xl:"3",class:"d-flex align-center"},{default:t(()=>[e(L,{rounded:"md",elevation:"10",class:"px-sm-1 px-0 withbg mx-auto","max-width":"500"},{default:t(()=>[e(z,{class:"pa-sm-8"},{default:t(()=>[V("div",Q,[e(y)]),X,e(K)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]))}});export{se as default};
