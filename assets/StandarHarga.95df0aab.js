import{U as n}from"./UsulanDataService.9fcabb1f.js";import{_ as l}from"./UiParentCard.262d71c2.js";import{a as m,V as u}from"./VRow.0f007f2a.js";import{o as d,S as k,w as i,b as r,au as p,a as h,aa as g}from"./index.2ab1e309.js";import"./BasicService.bafe2d7e.js";import"./AuthService.b6b14238.js";/* empty css              */const b=h("br",null,null,-1),f={data(){return{search:"",jenis:"",kode:"",uraian:"",headers:[{key:"jenis",title:"Jenis"},{key:"kelompok",title:"Kelompok Standar",sortable:!1},{key:"spesifikasi",title:"Spesifikasi"},{key:"satuan",title:"Satuan",sortable:!1},{key:"harga",title:"Harga"},{key:"rekenening",title:"Rekening",sortable:!1}],itemsPerPage:10,serverItems:[],loading:!0,totalItems:0}},watch:{jenis(){this.search=String(Date.now())},kode(){this.search=String(Date.now())},uraian(){this.search=String(Date.now())}},methods:{loadItems({page:o,itemsPerPage:t,sortBy:s}){this.loading=!0,n.getValid(o,t,s,{jenis:this.jenis,kode:this.kode,uraian:this.uraian},"*").then(a=>{this.serverItems=[],a.data.data.forEach(e=>{this.serverItems.push({jenis:e.attributes.kelompok.data.attributes.jenis,kelompok:e.attributes.kelompok.data.attributes.kode+" "+e.attributes.kelompok.data.attributes.uraian,spesifikasi:e.attributes.spesifikasi,satuan:e.attributes.id_satuan.data.attributes.satuan,harga:e.attributes.harga,rekenening:e.attributes.kode_rekening.data.attributes.kode+" "+e.attributes.kode_rekening.data.attributes.uraian})}),this.totalItems=a.data.meta.pagination.total,this.loading=!1}).catch(a=>{console.log(a)})}}},w=Object.assign(f,{setup(o){return(t,s)=>{const a=g("v-data-table-server");return d(),k(u,null,{default:i(()=>[r(m,{cols:"12",md:"12"},{default:i(()=>[r(l,{title:"Standar Harga 2024"},{default:i(()=>[r(a,{"items-per-page":t.itemsPerPage,"onUpdate:items-per-page":s[0]||(s[0]=e=>p(itemsPerPage)?itemsPerPage.value=e:null),headers:t.headers,"items-length":t.totalItems,items:t.serverItems,loading:t.loading,search:t.search,"item-value":"name","onUpdate:options":t.loadItems},null,8,["items-per-page","headers","items-length","items","loading","search","onUpdate:options"]),b]),_:1})]),_:1})]),_:1})}}});export{w as default};
