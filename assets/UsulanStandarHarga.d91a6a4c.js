import{U as n}from"./UsulanDataService.fa7dc7e9.js";import{_ as l}from"./UiParentCard.655ea966.js";import{o as u,S as d,w as s,b as r,V as m,au as g,d as h,a as k,aa as p}from"./index.42ce874e.js";import{a as c,V as _}from"./VRow.4b867647.js";import"./BasicService.b65760ea.js";import"./AuthService.5345b2f1.js";/* empty css              */const b=h("Buat Usulan"),f=k("br",null,null,-1),v={data(){return{search:"",jenis:"",kode:"",uraian:"",headers:[{key:"kelompok",title:"Kelompok Standar",sortable:!1},{key:"spesifikasi",title:"Spesifikasi"},{key:"satuan",title:"Satuan",sortable:!1},{key:"harga",title:"Harga"},{key:"rekenening",title:"Rekening",sortable:!1},{key:"status",title:"Status"}],itemsPerPage:10,serverItems:[],loading:!0,totalItems:0}},watch:{jenis(){this.search=String(Date.now())},kode(){this.search=String(Date.now())},uraian(){this.search=String(Date.now())}},methods:{loadItems({page:o,itemsPerPage:t,sortBy:i}){this.loading=!0,n.getAll(o,t,i,{jenis:this.jenis,kode:this.kode,uraian:this.uraian},"*").then(a=>{console.log(a.data),this.serverItems=[],a.data.data.forEach(e=>{this.serverItems.push({kelompok:e.attributes.kode_kelompok_barang.data.attributes.kode+" "+e.attributes.kode_kelompok_barang.data.attributes.uraian,spesifikasi:e.attributes.spesifikasi,satuan:e.attributes.id_satuan.data.attributes.satuan,harga:e.attributes.harga,rekenening:e.attributes.kode_rekening.data.attributes.kode+" "+e.attributes.kode_rekening.data.attributes.uraian,status:e.attributes.status})}),this.totalItems=a.data.meta.pagination.total,this.loading=!1}).catch(a=>{console.log(a)})}}},j=Object.assign(v,{setup(o){return(t,i)=>{const a=p("v-data-table-server");return u(),d(_,null,{default:s(()=>[r(c,{cols:"12",md:"12"},{default:s(()=>[r(l,{title:"Usulan Standar Harga"},{action:s(()=>[r(m,{to:"/usulan-standar-harga/create",class:"ma-2",color:"primary",density:"default"},{default:s(()=>[b]),_:1})]),default:s(()=>[r(a,{"items-per-page":t.itemsPerPage,"onUpdate:items-per-page":i[0]||(i[0]=e=>g(itemsPerPage)?itemsPerPage.value=e:null),headers:t.headers,"items-length":t.totalItems,items:t.serverItems,loading:t.loading,search:t.search,"item-value":"name","onUpdate:options":t.loadItems},null,8,["items-per-page","headers","items-length","items","loading","search","onUpdate:options"]),f]),_:1})]),_:1})]),_:1})}}});export{j as default};
