import{U as n}from"./UsulanDataService.91c5946e.js";import{_ as l}from"./UiParentCard.f1125c3a.js";import{o as u,W as d,w as s,b as r,V as m,aw as h,d as p,a as k,ac as g}from"./index.fa88f1bf.js";import{a as c,V as f}from"./VRow.48645a00.js";import"./BasicService.a832d833.js";import"./AuthService.5cd25173.js";/* empty css              */const b=p("Buat Usulan"),_=k("br",null,null,-1),v={data(){return{search:"",jenis:"",kode:"",uraian:"",headers:[{key:"kelompok",title:"Kelompok Standar",sortable:!1},{key:"spesifikasi",title:"Spesifikasi"},{key:"satuan",title:"Satuan",sortable:!1},{key:"harga",title:"Harga"},{key:"rekenening",title:"Rekening",sortable:!1},{key:"status",title:"Status"}],itemsPerPage:10,serverItems:[],loading:!0,totalItems:0}},watch:{jenis(){this.search=String(Date.now())},kode(){this.search=String(Date.now())},uraian(){this.search=String(Date.now())}},methods:{loadItems({page:o,itemsPerPage:t,sortBy:i}){this.loading=!0,n.getAll(o,t,i,{jenis:this.jenis,kode:this.kode,uraian:this.uraian},"*").then(a=>{this.serverItems=[],a.data.data.forEach(e=>{this.serverItems.push({kelompok:e.attributes.kelompok.data.attributes.kode+" "+e.attributes.kelompok.data.attributes.uraian,spesifikasi:e.attributes.spesifikasi,satuan:e.attributes.id_satuan.data.attributes.satuan,harga:e.attributes.harga,rekenening:e.attributes.kode_rekening.data.attributes.kode+" "+e.attributes.kode_rekening.data.attributes.uraian,status:e.attributes.status})}),this.totalItems=a.data.meta.pagination.total,this.loading=!1}).catch(a=>{console.log(a)})}}},j=Object.assign(v,{setup(o){return(t,i)=>{const a=g("v-data-table-server");return u(),d(f,null,{default:s(()=>[r(c,{cols:"12",md:"12"},{default:s(()=>[r(l,{title:"Usulan Standar Harga"},{action:s(()=>[r(m,{to:"/usulan-standar-harga/create",class:"ma-2",color:"primary",density:"default"},{default:s(()=>[b]),_:1})]),default:s(()=>[r(a,{"items-per-page":t.itemsPerPage,"onUpdate:items-per-page":i[0]||(i[0]=e=>h(itemsPerPage)?itemsPerPage.value=e:null),headers:t.headers,"items-length":t.totalItems,items:t.serverItems,loading:t.loading,search:t.search,"item-value":"name","onUpdate:options":t.loadItems},null,8,["items-per-page","headers","items-length","items","loading","search","onUpdate:options"]),_]),_:1})]),_:1})]),_:1})}}});export{j as default};
