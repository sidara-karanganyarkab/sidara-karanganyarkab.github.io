import{_ as y,V as S}from"./Logo.42d81586.js";import{g as C,b3 as F,b4 as R,r as k,u as B,b as e,a$ as I,a7 as q,o as h,S as U,w as a,b5 as _,av as b,V as N,b1 as P,d as f,a8 as j,c as A,a as g}from"./index.42ce874e.js";import{A as D}from"./AuthService.5345b2f1.js";import{_ as L}from"./plugin-vue_export-helper.21dcd24c.js";import{a as m,V,c as T,b as z}from"./VRow.4b867647.js";/* empty css              */const E=C()({name:"VForm",props:{...F()},emits:{"update:modelValue":s=>!0,submit:s=>!0},setup(s,o){let{slots:u,emit:c}=o;const t=R(s),r=k();function l(n){n.preventDefault(),t.reset()}function v(n){const i=n,d=t.validate();i.then=d.then.bind(d),i.catch=d.catch.bind(d),i.finally=d.finally.bind(d),c("submit",i),i.defaultPrevented||d.then(x=>{var p;let{valid:w}=x;w&&((p=r.value)==null||p.submit())}),i.preventDefault()}return B(()=>{var n;return e("form",{ref:r,class:"v-form",novalidate:!0,onReset:l,onSubmit:v},[(n=u.default)==null?void 0:n.call(u,t)])}),I(t,r)}}),H={data(s){return{form:!1,loading:!1,timeout:null,username:"",password:""}},computed:{loggedIn(){return localStorage.getItem("user")}},created(){this.loggedIn&&this.$router.push("/dashboard")},methods:{required(s){return!!s||"Field is required"},submit(){this.loading=!0,D.login({username:this.username,password:this.password}).then(s=>{this.loading=!1,q.push("/dashboard")}).catch(s=>{console.log(s),this.loading=!1})}}},M=f("Username"),G=f("Password"),J=f("Sign in");function K(s,o,u,c,t,r){return h(),U(E,{modelValue:t.form,"onUpdate:modelValue":o[2]||(o[2]=l=>t.form=l),"fast-fail":"",onSubmit:P(r.submit,["prevent"])},{default:a(()=>[e(V,{class:"d-flex mb-3"},{default:a(()=>[e(m,{cols:"12"},{default:a(()=>[e(_,{class:"font-weight-bold mb-1"},{default:a(()=>[M]),_:1}),e(b,{variant:"outlined",modelValue:t.username,"onUpdate:modelValue":o[0]||(o[0]=l=>t.username=l),rules:[r.required],"hide-details":"",clearable:"",color:"primary"},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:a(()=>[e(_,{class:"font-weight-bold mb-1"},{default:a(()=>[G]),_:1}),e(b,{variant:"outlined",modelValue:t.password,"onUpdate:modelValue":o[1]||(o[1]=l=>t.password=l),type:"password",rules:[r.required],"hide-details":"",clearable:"",color:"primary"},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:a(()=>[e(N,{loading:t.loading,disabled:!t.form,type:"submit",color:"primary",size:"large",block:"",flat:""},{default:a(()=>[J]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])}var O=L(H,[["render",K]]);const Q={class:"authentication"},W={class:"d-flex justify-center py-4"},X=g("div",{class:"text-body-1 text-muted text-center mb-3"},"Sistem Informasi Standar Harga",-1),se=j({setup(s){return(o,u)=>(h(),A("div",Q,[e(S,{fluid:"",class:"pa-3"},{default:a(()=>[e(V,{class:"h-100vh d-flex justify-center align-center"},{default:a(()=>[e(m,{cols:"12",lg:"4",xl:"3",class:"d-flex align-center"},{default:a(()=>[e(T,{rounded:"md",elevation:"10",class:"px-sm-1 px-0 withbg mx-auto","max-width":"500"},{default:a(()=>[e(z,{class:"pa-sm-8"},{default:a(()=>[g("div",W,[e(y)]),X,e(O)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]))}});export{se as default};
